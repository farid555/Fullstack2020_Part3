{"version":3,"sources":["Components/Filter.js","Components/PersonForm.js","Components/Persons.js","services/persons.js","Components/Notifi.js","App.js","index.js"],"names":["Filter","filterName","handlefilterChange","console","log","value","onChange","PersonForm","addInfo","handleChangename","handleChangenumber","name","number","onSubmit","type","Persons","persons","persondelete","filteringPersons","filter","note","toLowerCase","includes","map","key","onClick","id","baseUrl","axios","get","then","response","data","noteObject","post","put","delete","Notifi","message","error","className","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setNewfilter","setMessage","setError","useEffect","servicepersons","initialNotes","updatePersons","person","identity","find","w","returnedPerson","p","setTimeout","catch","a","status","event","target","preventDefault","date","Date","toISOString","important","Math","random","every","concat","window","confirm","z","ignored","e","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.eed1864c.chunk.js","sourcesContent":["import React from 'react';\n\nconst Filter = ({ filterName, handlefilterChange }) => {\n    console.log(handlefilterChange)\n    return (\n        <div> filter shown with <input value={filterName} onChange={handlefilterChange} /> </div>\n    )\n}\n\n\n\n\n\n\n\nexport default Filter","import React from 'react';\n\nconst PersonForm = ({ addInfo, handleChangename, handleChangenumber, name, number }) => {\n    console.log(handleChangename, handleChangenumber)\n    return (\n\n        <form onSubmit={addInfo}>\n            <div>\n                name: <input value={name} onChange={handleChangename} />\n                <div>number: <input value={number} onChange={handleChangenumber} /></div>\n            </div>\n            <div>\n                <button type=\"sibmit\">add</button>\n            </div>\n        </form>\n\n    )\n}\n\nexport default PersonForm\n","import React from 'react';\n\n\n\nconst Persons = ({ persons, filterName, persondelete }) => {\n    const filteringPersons = persons\n        .filter(note => note.name.toLowerCase().includes(filterName.toLowerCase()))\n    return (\n\n        <div>\n            {filteringPersons.map(note => <li key={note.name}>{note.name} {note.number}<button onClick={() => persondelete(note.id)}>delete</button></li>)}\n        </div>\n\n\n\n\n    )\n}\n\nexport default Persons","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = (noteObject) => {\n    const request = axios.post(baseUrl, noteObject)\n    return request.then(response => response.data)\n}\n\nconst update = (id, noteObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, noteObject)\n    return request.then(response => response.data)\n}\nconst deleteEntry = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nexport default {\n    getAll: getAll,\n    create: create,\n    update: update,\n    deleteEntry: deleteEntry\n}","import React from 'react'\n\nconst Notifi = ({ message, error }) => {\n    if (message === null && error === null) {\n        return null\n    } else if (message !== null) {\n        return (\n            <div className=\"Emessage\">\n                {message}\n            </div>\n        )\n    } else if (error !== null) {\n        return (\n            <div className=\"Eerror\">\n                {error}\n            </div>\n        )\n    }\n}\n\nexport default Notifi","import React, { useState, useEffect } from 'react'\nimport Filter from './Components/Filter'\nimport PersonForm from './Components/PersonForm'\nimport Persons from './Components/Persons'\nimport servicepersons from './services/persons'\nimport Notifi from './Components/Notifi'\nimport './index.css'\n\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filterName, setNewfilter] = useState('')\n  const [message, setMessage] = useState(null)\n  const [error, setError] = useState(null)\n\n\n  useEffect(() => {\n    servicepersons\n      .getAll()\n      .then(initialNotes => {\n        setPersons(initialNotes)\n      })\n  }, [])\n\n\n  const addInfo = (event) => {\n    event.preventDefault()\n    console.log('button cliked', event.target)\n    const noteObject = {\n      name: newName,\n      number: newNumber,\n      date: new Date().toISOString(),\n      important: Math.random() < 0.5,\n\n    }\n\n    if (persons.every((p) => p.name.toLowerCase() !== newName.toLowerCase())) {\n      servicepersons\n        .create(noteObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setNewName('')\n          setNewNumber('')\n          //notification\n          setMessage(`Added ${returnedPerson.name}`)\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        })\n        .catch(a => {\n          setError(a.response.data.error)\n          setTimeout(() => {\n            setError(null)\n          }, 5000);\n        })\n    }\n    //perseon already there\n    else if (window.confirm(`${newName} is already added to phonebook,\n    replace the old number with a new one?`)) {\n\n      updatePersons(noteObject)\n    }\n  }\n\n  const updatePersons = (person) => {\n\n    const identity = persons.find(w => w.name.toLowerCase() === person.name.toLowerCase()).id\n    person = { ...person, id: identity }\n    servicepersons\n      .update(identity, person)\n      .then(returnedPerson => {\n        setPersons(persons.map(p => p.id !== identity ? p : returnedPerson))\n        setNewName('')\n        setNewNumber('')\n        // Notification\n        setMessage(`Updated ${returnedPerson.name}`)\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n      })\n\n      .catch(a => {\n        if (a.response.status === 400) {\n\n          setError(a.response.data.error)\n          setTimeout(() => {\n            setError(null)\n          }, 5000)\n        }\n\n        else {\n          setPersons(persons.filter(w => w.id !== identity))\n          setError(`Information of ${person.name} has already been removed from the server`)\n          setTimeout(() => {\n            setError(null)\n          }, 5000)\n          setNewName('')\n          setNewNumber('')\n        }\n      })\n  }\n\n  const persondelete = (id) => {\n    const person = persons.find(z => z.id === id)\n\n    if (window.confirm(`Delete ${person.name}?`)) {\n      servicepersons\n        .deleteEntry(id)\n        .then(ignored => {\n          setPersons(persons.filter(z => id !== z.id))\n          setMessage(`${person.name} was deleted`)\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000);\n        })\n        .catch(e => {\n          setError(`Information of ${person.name} has already been removed from the server`)\n          setTimeout(() => {\n            setError(null)\n          }, 5000)\n        })\n\n    }\n\n  }\n\n\n\n  const handleChangename = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n  const handleChangenumber = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n  const handlefilterChange = (event) => {\n    console.log(event.target.value)\n    setNewfilter(event.target.value)\n  }\n\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notifi error={error} message={message} />\n      <Filter value={filterName} handlefilterChange={handlefilterChange} />\n\n      <h2>Add new number</h2>\n\n      <PersonForm\n        addInfo={addInfo} handleChangename={handleChangename} handleChangenumber={handleChangenumber} name={newName} number={newNumber} />\n      <h2>Numbers</h2>\n\n      <Persons persons={persons} filterName={filterName} persondelete={persondelete} />\n\n    </div>\n\n\n  )\n\n\n}\n\n\n\n\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />,\n  document.getElementById('root')\n)\n\n"],"sourceRoot":""}