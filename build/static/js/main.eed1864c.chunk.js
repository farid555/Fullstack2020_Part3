(this.webpackJsonpphonebook = this.webpackJsonpphonebook || []).push([[0], { 16: function (e, n, t) { e.exports = t(38) }, 38: function (e, n, t) { 'use strict'; t.r(n); var a = t(0), o = t.n(a), r = t(15), u = t.n(r), c = (t(6), t(4)), l = t(2), i = function (e) { var n = e.filterName, t = e.handlefilterChange; return console.log(t), o.a.createElement('div', null, ' filter shown with ', o.a.createElement('input', { value: n, onChange: t }), '') }, m = function (e) { var n = e.addInfo, t = e.handleChangename, a = e.handleChangenumber, r = e.name, u = e.number; return console.log(t, a), o.a.createElement('form', { onSubmit: n }, o.a.createElement('div', null, 'name: ', o.a.createElement('input', { value: r, onChange: t }), o.a.createElement('div', null, 'number: ', o.a.createElement('input', { value: u, onChange: a }))), o.a.createElement('div', null, o.a.createElement('button', { type: 'sibmit' }, 'add'))) }, f = function (e) { var n = e.persons, t = e.filterName, a = e.persondelete, r = n.filter((function (e) { return e.name.toLowerCase().includes(t.toLowerCase()) })); return o.a.createElement('div', null, r.map((function (e) { return o.a.createElement('li', { key: e.name }, e.name, ' ', e.number, o.a.createElement('button', { onClick: function () { return a(e.id) } }, 'delete')) }))) }, s = t(3), d = t.n(s), h = '/api/persons', b = function () { return d.a.get(h).then((function (e) { return e.data })) }, v = function (e) { return d.a.post(h, e).then((function (e) { return e.data })) }, p = function (e, n) { return d.a.put(''.concat(h, '/').concat(e), n).then((function (e) { return e.data })) }, g = function (e) { return d.a.delete(''.concat(h, '/').concat(e)).then((function (e) { return e.data })) }, E = function (e) { var n = e.message, t = e.error; return null === n && null === t ? null : null !== n ? o.a.createElement('div', { className: 'Emessage' }, n) : null !== t ? o.a.createElement('div', { className: 'Eerror' }, t) : void 0 }, w = function () { var e = Object(a.useState)([]), n = Object(l.a)(e, 2), t = n[0], r = n[1], u = Object(a.useState)(''), s = Object(l.a)(u, 2), d = s[0], h = s[1], w = Object(a.useState)(''), C = Object(l.a)(w, 2), O = C[0], j = C[1], k = Object(a.useState)(''), S = Object(l.a)(k, 2), y = S[0], T = S[1], I = Object(a.useState)(null), L = Object(l.a)(I, 2), N = L[0], D = L[1], A = Object(a.useState)(null), J = Object(l.a)(A, 2), x = J[0], B = J[1]; Object(a.useEffect)((function () { b().then((function (e) { r(e) })) }), []); var M = function (e) { var n = t.find((function (n) { return n.name.toLowerCase() === e.name.toLowerCase() })).id; e = Object(c.a)(Object(c.a)({}, e), {}, { id: n }), p(n, e).then((function (e) { r(t.map((function (t) { return t.id !== n ? t : e }))), h(''), j(''), D('Updated '.concat(e.name)), setTimeout((function () { D(null) }), 5e3) })).catch((function (a) { 400 === a.response.status ? (B(a.response.data.error), setTimeout((function () { B(null) }), 5e3)) : (r(t.filter((function (e) { return e.id !== n }))), B('Information of '.concat(e.name, 'has already been removed from the server')), setTimeout((function () { B(null) }), 5e3), h(''), j('')) })) }; return o.a.createElement('div', null, o.a.createElement('h2', null, 'Phonebook'), o.a.createElement(E, { error: x, message: N }), o.a.createElement(i, { value: y, handlefilterChange: function (e) { console.log(e.target.value), T(e.target.value) } }), o.a.createElement('h2', null, 'Add new number'), o.a.createElement(m, { addInfo: function (e) { e.preventDefault(), console.log('button cliked', e.target); var n = { name: d, number: O, date: (new Date).toISOString(), important: Math.random() < .5 }; t.every((function (e) { return e.name.toLowerCase() !== d.toLowerCase() })) ? v(n).then((function (e) { r(t.concat(e)), h(''), j(''), D('Added '.concat(e.name)), setTimeout((function () { D(null) }), 5e3) })).catch((function (e) { B(e.response.data.error), setTimeout((function () { B(null) }), 5e3) })) : window.confirm(''.concat(d, ' is already added to phonebook,\n    replace the old number with a new one?')) && M(n) }, handleChangename: function (e) { console.log(e.target.value), h(e.target.value) }, handleChangenumber: function (e) { console.log(e.target.value), j(e.target.value) }, name: d, number: O }), o.a.createElement('h2', null, 'Numbers'), o.a.createElement(f, { persons: t, filterName: y, persondelete: function (e) { var n = t.find((function (n) { return n.id === e })); window.confirm('Delete '.concat(n.name, '?')) && g(e).then((function () { r(t.filter((function (n) { return e !== n.id }))), D(''.concat(n.name, ' was deleted')), setTimeout((function () { D(null) }), 5e3) })).catch((function () { B('Information of '.concat(n.name, ' has already been removed from the server')), setTimeout((function () { B(null) }), 5e3) })) } })) }; u.a.render(o.a.createElement(w, null), document.getElementById('root')) }, 6: function () { } }, [[16, 1, 2]]])
//# sourceMappingURL=main.eed1864c.chunk.js.map